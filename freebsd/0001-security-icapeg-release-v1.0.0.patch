From 6140431e3c778fb67a0817d346ebcd7df5d6ee26 Mon Sep 17 00:00:00 2001
From: Khaled Emara <support@egirna.com>
Date: Wed, 5 Apr 2023 00:36:23 +0200
Subject: [PATCH] security/icapeg: release v1.0.0

Signed-off-by: Khaled Emara <kemara@egirna.com>
---
 security/icapeg/Makefile  | 51 +++++++++++++++++++++++++++++++++++++++
 security/icapeg/distinfo  | 49 +++++++++++++++++++++++++++++++++++++
 security/icapeg/pkg-descr |  3 +++
 3 files changed, 103 insertions(+)
 create mode 100644 security/icapeg/Makefile
 create mode 100644 security/icapeg/distinfo
 create mode 100644 security/icapeg/pkg-descr

diff --git a/security/icapeg/Makefile b/security/icapeg/Makefile
new file mode 100644
index 000000000..297eeef15
--- /dev/null
+++ b/security/icapeg/Makefile
@@ -0,0 +1,51 @@
+PORTNAME=       	icapeg
+PORTVERSION=    	1.0.0
+DISTVERSIONPREFIX=  v
+CATEGORIES=     	security
+
+MAINTAINER=     	support@egirna.com
+COMMENT=        	An ICAP server implementation
+WWW=            	https://github.com/egirna/icapeg
+
+LICENSE=        	APACHE20
+LICENSE_FILE=   	${WRKSRC}/LICENSE
+
+USES=           	go:modules
+USE_GITHUB=	        yes
+GH_ACCOUNT=    	    egirna
+GH_TUPLE=	        \
+		            davecgh:go-spew:v1.1.1:davecgh_go_spew/vendor/github.com/davecgh/go-spew \
+		            dutchcoders:go-clamd:b970184f4d9e:dutchcoders_go_clamd/vendor/github.com/dutchcoders/go-clamd \
+		            fsnotify:fsnotify:v1.5.1:fsnotify_fsnotify/vendor/github.com/fsnotify/fsnotify \
+		            go-ini:ini:v1.63.2:go_ini_ini/vendor/gopkg.in/ini.v1 \
+		            go-yaml:yaml:v2.4.0:go_yaml_yaml/vendor/gopkg.in/yaml.v2 \
+		            golang:sys:63515b42dcdf:golang_sys/vendor/golang.org/x/sys \
+		            golang:text:v0.3.6:golang_text/vendor/golang.org/x/text \
+		            h2non:filetype:v1.0.12:h2non_filetype/vendor/github.com/h2non/filetype \
+		            hashicorp:hcl:v1.0.0:hashicorp_hcl/vendor/github.com/hashicorp/hcl \
+		            magiconair:properties:v1.8.5:magiconair_properties/vendor/github.com/magiconair/properties \
+		            mitchellh:mapstructure:v1.4.2:mitchellh_mapstructure/vendor/github.com/mitchellh/mapstructure \
+		            pelletier:go-toml:v1.9.4:pelletier_go_toml/vendor/github.com/pelletier/go-toml \
+		            pkg:errors:v0.9.1:pkg_errors/vendor/github.com/pkg/errors \
+		            spf13:afero:v1.6.0:spf13_afero/vendor/github.com/spf13/afero \
+		            spf13:cast:v1.4.1:spf13_cast/vendor/github.com/spf13/cast \
+		            spf13:jwalterweatherman:v1.1.0:spf13_jwalterweatherman/vendor/github.com/spf13/jwalterweatherman \
+		            spf13:pflag:v1.0.5:spf13_pflag/vendor/github.com/spf13/pflag \
+		            spf13:viper:v1.9.0:spf13_viper/vendor/github.com/spf13/viper \
+		            subosito:gotenv:v1.2.0:subosito_gotenv/vendor/github.com/subosito/gotenv \
+		            uber-go:atomic:v1.10.0:uber_go_atomic/vendor/go.uber.org/atomic \
+		            uber-go:multierr:v1.8.0:uber_go_multierr/vendor/go.uber.org/multierr \
+		            uber-go:zap:v1.22.0:uber_go_zap/vendor/go.uber.org/zap \
+		            xhit:go-str2duration:v2.0.0:xhit_go_str2duration_v2/vendor/github.com/xhit/go-str2duration/v2
+
+post-install:
+	${MKDIR} ${STAGEDIR}${ETCDIR}
+	${INSTALL_DATA} ${WRKSRC}/config.toml ${STAGEDIR}${ETCDIR}/config.toml.sample
+	${MKDIR} ${STAGEDIR}${DATADIR}
+	${INSTALL_DATA} ${WRKSRC}/temp/exception-page.html ${STAGEDIR}${DATADIR}/exception-page.html
+
+PLIST_FILES=    	bin/icapeg \
+					"@sample ${ETCDIR}/config.toml.sample" \
+					"${DATADIR}/exception-page.html"
+
+.include <bsd.port.mk>
diff --git a/security/icapeg/distinfo b/security/icapeg/distinfo
new file mode 100644
index 000000000..35438b88d
--- /dev/null
+++ b/security/icapeg/distinfo
@@ -0,0 +1,49 @@
+TIMESTAMP = 1681853068
+SHA256 (egirna-icapeg-v1.0.0_GH0.tar.gz) = 3327f6ea2f025e501cc966c8c639467f78f64cd8545d2cdfce4ab13bdb1d9154
+SIZE (egirna-icapeg-v1.0.0_GH0.tar.gz) = 5903779
+SHA256 (davecgh-go-spew-v1.1.1_GH0.tar.gz) = 7d82b9bb7291adbe7498fe946920ab3e7fc9e6cbfc3b2294693fad00bf0dd17e
+SIZE (davecgh-go-spew-v1.1.1_GH0.tar.gz) = 42152
+SHA256 (dutchcoders-go-clamd-b970184f4d9e_GH0.tar.gz) = 15994ee9e7c1940d3e2a1b80d640785ace294830e751bc8c165bb2783a42e407
+SIZE (dutchcoders-go-clamd-b970184f4d9e_GH0.tar.gz) = 4802
+SHA256 (fsnotify-fsnotify-v1.5.1_GH0.tar.gz) = bf4be597aef95796bec7c7def6701581c5e153376ba5a5aa31c2d04470d84f1d
+SIZE (fsnotify-fsnotify-v1.5.1_GH0.tar.gz) = 32691
+SHA256 (go-ini-ini-v1.63.2_GH0.tar.gz) = c28487b3236abf9c7b4c3be7d20b99e9876f2c31fe0dc1bace7c6715c09339a6
+SIZE (go-ini-ini-v1.63.2_GH0.tar.gz) = 50698
+SHA256 (go-yaml-yaml-v2.4.0_GH0.tar.gz) = d8e94679e5fff6bd1a35e10241543929a5f3da44f701755babf99b3daf0faac0
+SIZE (go-yaml-yaml-v2.4.0_GH0.tar.gz) = 73209
+SHA256 (golang-sys-63515b42dcdf_GH0.tar.gz) = 3f903424179a9ee0fce30e6ae8b91863350687decd772a0e22e1c59edd33ac75
+SIZE (golang-sys-63515b42dcdf_GH0.tar.gz) = 1210526
+SHA256 (golang-text-v0.3.6_GH0.tar.gz) = f66bebcf21985b0a713d67c6c35dfc9800d3b6d00d62b83ed0ce5b2ed4cb9760
+SIZE (golang-text-v0.3.6_GH0.tar.gz) = 8351095
+SHA256 (h2non-filetype-v1.0.12_GH0.tar.gz) = a7367267b3eb05b0a22893efebb0f47f3c93081dca9ff65d498bbb4aa9fddc58
+SIZE (h2non-filetype-v1.0.12_GH0.tar.gz) = 3632270
+SHA256 (hashicorp-hcl-v1.0.0_GH0.tar.gz) = 50632428210503070fd2fde748c88b7414bf84a6a0eadebf9d8e596a033bead2
+SIZE (hashicorp-hcl-v1.0.0_GH0.tar.gz) = 70658
+SHA256 (magiconair-properties-v1.8.5_GH0.tar.gz) = f85ea629d145006f4df18fd8251fa005d95c311b068848043232f52d247ba45c
+SIZE (magiconair-properties-v1.8.5_GH0.tar.gz) = 30514
+SHA256 (mitchellh-mapstructure-v1.4.2_GH0.tar.gz) = 640c852b5818ba4b4d756e268048dff4acbb18273ec1ce5df4f16537567b37d8
+SIZE (mitchellh-mapstructure-v1.4.2_GH0.tar.gz) = 28304
+SHA256 (pelletier-go-toml-v1.9.4_GH0.tar.gz) = 2b00521c81b994a72d0f3bd3aa9273cb17fab61a5e9749aff1108117a8d7c397
+SIZE (pelletier-go-toml-v1.9.4_GH0.tar.gz) = 106507
+SHA256 (pkg-errors-v0.9.1_GH0.tar.gz) = 56bfd893023daa498508bfe161de1be83299fcf15376035e7df79cbd7d6fa608
+SIZE (pkg-errors-v0.9.1_GH0.tar.gz) = 13415
+SHA256 (spf13-afero-v1.6.0_GH0.tar.gz) = d1942de010ac7932bd21618aaf478b4f1413980449c061032f18beac7805d068
+SIZE (spf13-afero-v1.6.0_GH0.tar.gz) = 62130
+SHA256 (spf13-cast-v1.4.1_GH0.tar.gz) = 3d099a48b75a66ac52dbb473c93096076dca752af51087b8d163e15e5de721f8
+SIZE (spf13-cast-v1.4.1_GH0.tar.gz) = 13381
+SHA256 (spf13-jwalterweatherman-v1.1.0_GH0.tar.gz) = 4fd850a792c5738954c4801cf549d8d0bf53edd17139cd39d179aa5abf7ec68d
+SIZE (spf13-jwalterweatherman-v1.1.0_GH0.tar.gz) = 6871
+SHA256 (spf13-pflag-v1.0.5_GH0.tar.gz) = 9a2cae1f8e8ab0d2cc8ebe468e871af28d9ac0962cf0520999e3ba85f0c7b808
+SIZE (spf13-pflag-v1.0.5_GH0.tar.gz) = 50796
+SHA256 (spf13-viper-v1.9.0_GH0.tar.gz) = ee126f75f6c2e0581c4bd99e98194792056449ced9232d236ff0015e883900b6
+SIZE (spf13-viper-v1.9.0_GH0.tar.gz) = 99701
+SHA256 (subosito-gotenv-v1.2.0_GH0.tar.gz) = 5f6826992c11981018c77377f33dbc56d0be932e0d38a2f51e795c99725e7ba5
+SIZE (subosito-gotenv-v1.2.0_GH0.tar.gz) = 7359
+SHA256 (uber-go-atomic-v1.10.0_GH0.tar.gz) = 09d7d71c0686e91c5b6f4773e00a6515f2c0b3e52c137fc53269cae4bf2d582c
+SIZE (uber-go-atomic-v1.10.0_GH0.tar.gz) = 23091
+SHA256 (uber-go-multierr-v1.8.0_GH0.tar.gz) = 25d7db31320bc4c4408664e0492b59e509ec83ec3164e11610dcfd2fa828ea57
+SIZE (uber-go-multierr-v1.8.0_GH0.tar.gz) = 15579
+SHA256 (uber-go-zap-v1.22.0_GH0.tar.gz) = 295bbecf8662df1270473ac770a74dbd99517b5eb7d73509d31563f1a88454f3
+SIZE (uber-go-zap-v1.22.0_GH0.tar.gz) = 164450
+SHA256 (xhit-go-str2duration-v2.0.0_GH0.tar.gz) = b4ca5230264b789a738005eee139218c0a14175ae6f6a5d8643beb798bda00ea
+SIZE (xhit-go-str2duration-v2.0.0_GH0.tar.gz) = 4665
diff --git a/security/icapeg/pkg-descr b/security/icapeg/pkg-descr
new file mode 100644
index 000000000..aa2e06a83
--- /dev/null
+++ b/security/icapeg/pkg-descr
@@ -0,0 +1,3 @@
+icap-eg is an implementation of an ICAP server. It can be used with HTTP proxies
+that support the ICAP protocol to implement content adaptation and filtering
+services.
-- 
2.39.2

